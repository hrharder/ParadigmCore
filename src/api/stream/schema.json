{
	"$schema": "https://rawgit.com/mzernetsch/jrgen/master/jrgen-spec.schema.json",
	"jrgen": "1.1",
	"jsonrpc": "2.0",
	"info": {
		"title": "StreamAPI",
		"description": [
            "The StreamAPI enables interaction with the ParadigmCore via ABCI",
            "This api follows the json-rpc 2.0 specification. More information available at http://www.jsonrpc.org/specification."
        ],
		"version": "0.1-rc"
	},
	"definitions": {
		"session": {
            "type": "object",
            "description": "Values specific to an individual session. End with `.end`.",
			"properties": {
				"id": {
					"description": "The client-provided top-level 'id' used in all session responses/requests.",
					"default": "sID-23189",
					"type": "string",
                    "minLength": 1,
                    "maxLength": 32
                },
                "status": {
					"description": "The session status. Can be 'CONNECTING', 'CLOSED', or 'OPEN'.",
					"default": "CONNECTING",
					"type": "string"
                }
			},
			"required": ["id"]
        },
        "subscription": {
            "type": "object",
			"properties": {
				"id": {
					"description": "The server-provided 'subscription.id' used in all event notifications.",
					"default": "sID-23189",
					"type": "string",
                    "minLength": 1,
                    "maxLength": 32
                }
			},
			"required": ["id"]
        }
	},
	"methods": {
		"session.start": {
			"summary": "Start a StreamAPI session.",
			"description": "The client-provided 'id' will be included in all future responses from the server, and must be included in all requests by the client for the duration of the session.",
			"tags": [
                "session"
			],
			"result": {
				"$ref": "#/definitions/session"
			},
			"errors": [{
				"description": "The provided 'id' is invalid, or in use.",
				"code": 1,
				"message": "BadSessionID",
				"data": {}
			}]
        },
        "session.end": {
			"summary": "End a StreamAPI session.",
			"description": "Terminate a StreamAPI session immediately and cancel all subscriptions.",
			"tags": [
                "session"
			],
			"result": {
				"$ref": "#/definitions/session"
			},
			"errors": [{
				"description": "The provided 'id' is invalid, or unused.",
				"code": 1,
				"message": "UnknownSession",
				"data": {}
			}]
        },
        "subscription.start": {
			"summary": "Subscribe to a specific ParadigmCore event.",
			"description": "Initiate a subscription to an OrderStream node for specific blockchain and state-related events.",
			"tags": [
                "subscription"
            ],
			"params": {
				"type": "object",
				"properties": {
					"event": {
						"description": "The name of the event you are subscribing to. Can be 'order' or 'block' currently.",
                        "default": "order",
                        "enum": ["order", "block"],
						"type": "string",
						"minLength": 1
                    }
				},
				"required": ["event"]
			},
			"result": {
				"$ref": "#/definitions/subscription"
			},
			"errors": [{
				"description": "The provided credentials are invalid.",
				"code": 1,
				"message": "InvalidCredentials",
				"data": {}
			}]
        },
        "subscription.end": {
			"summary": "Unsubscribe from a specific ParadigmCore event.",
			"description": "Immediately end a subscription to a certain event, and stop receiving notifications.",
			"tags": [
                "subscription"
            ],
			"params": {
				"type": "object",
				"properties": {
					"event": {
						"description": "The name of the event you are subscribing to. Can be 'order' or 'block' currently.",
						"default": "order",
						"type": "string",
						"minLength": 1
					}
				},
				"required": ["event"]
			},
			"result": {
				"$ref": "#/definitions/subscription"
			},
			"errors": [{
				"description": "The provided credentials are invalid.",
				"code": 1,
				"message": "InvalidCredentials",
				"data": {}
			}]
		}
	}
}