{
    "$schema": "https://rawgit.com/mzernetsch/jrgen/master/jrgen-spec.schema.json",
    "jrgen": "1.1",
    "jsonrpc": "2.0",
    "info": {
        "title": "StreamAPI Reference",
        "description": [
            "The StreamAPI enables interaction with the ParadigmCore via JSONRPC/WebSocket.\n",
            "The API is served by the `StreamServer`, an optional component included as part of the `api` module in ParadigmCore.\n",
            "StreamAPI follows the JSONRPC-2.0 specification. More information available at http://www.jsonrpc.org/specification."
        ],
        "version": "0.1-rc-2"
    },
    "definitions": {
        "subscription": {
            "type": "object",
            "properties": {
                "id": {
                    "description": "The server-provided 'subscription.id' used in all event notifications.",
                    "default": "sID-23189",
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 32
                }
            },
            "required": ["id"]
        }
    },
    "methods": {
        "session.end": {
            "summary": "End a StreamAPI session.",
            "description": [
                "Terminate a StreamAPI session immediately.\n ",
                "Calling this method will cancel all subscriptions, and immediately close the client/server connection."
            ],
            "tags": [
                "session"
            ],
            "result": {
                "type": "object",
                "properties": {
                    "response": {
                        "description": "The server's response to the connection-close request.",
                        "default": "Closing connection.",
                        "type": "string"
                    }
                },
                "required": ["response"]
            },
            "errors": [{
                    "description": "The provided 'id' is invalid, or unused.",
                    "code": 1,
                    "message": "UnknownSession",
                    "data": {}
                }]
        },
        "subscription.start": {
            "summary": "Subscribe to a specific ParadigmCore event.",
            "description": "Initiate a subscription to an OrderStream node for specific blockchain and state-related events.",
            "tags": [
                "subscription"
            ],
            "params": {
                "type": "object",
                "properties": {
                    "eventName": {
                        "description": "The name of the event you are subscribing to. Can be 'order' or 'block' currently.",
                        "default": "order",
                        "enum": ["order", "block"],
                        "type": "string",
                        "minLength": 1
                    }
                },
                "required": ["eventName"]
            },
            "result": {
                "type": "object",
                "properties": {
                    "response": {
                        "description": "The server's response to the subscription-start request.",
                        "default": "Successfully started subscription",
                        "type": "string"
                    },
                    "eventId": {
                        "description": "A unique ID that can be used for filtering many event subscriptions.",
                        "default": "132162",
                        "type": "string"
                    }
                },
                "required": ["response"]
            },
            "errors": [{
                    "description": "The provided parameters are invalid.",
                    "code": 1,
                    "message": "InvalidParameters",
                    "data": {}
                }]
        },
        "subscription.end": {
            "summary": "Unsubscribe from a specific ParadigmCore event.",
            "description": "Immediately end a subscription to a certain event, and stop receiving notifications.",
            "tags": [
                "subscription"
            ],
            "params": {
                "type": "object",
                "properties": {
                    "eventId": {
                        "description": "A unique ID provided by the server upon an event subscription.",
                        "default": "132162",
                        "type": "string"
                    }
                },
                "required": ["eventId"]
            },
            "result": {
                "type": "object",
                "properties": {
                    "response": {
                        "description": "The server's response to the subscription-end request.",
                        "default": "Successfully ended event subscription.",
                        "type": "string"
                    }
                },
                "required": ["response"]
            },
            "errors": [{
                    "description": "The provided parameters are invalid.",
                    "code": 1,
                    "message": "InvalidParameters",
                    "data": {}
                }]
        },
        "block.latestHeight": {
            "summary": "Return the height of the best known block.",
            "description": "The `block.latestHeight` method will return the integer height of the latest block committed to the blockchain.",
            "tags": [
                "block"
            ],
            "result": {
                "type": "object",
                "properties": {
                    "height": {
                        "description": "The integer height of the latest committed block.",
                        "default": 42341,
                        "type": "number"
                    }
                },
                "required": ["height"]
            },
            "errors": []
        },
        "state.orderCounter": {
            "summary": "Query the `state.orderCounter` field.",
            "description": "Return the incremental counter that tracks the in-state number of total `order` transactions.",
            "tags": [
                "state"
            ],
            "result": {
                "type": "object",
                "properties": {
                    "response": {
                        "description": "The result of the query, as a number. Counts the number of total orders processed by the network since genesis.",
                        "default": 113415,
                        "type": "number"
                    }
                },
                "required": ["response"]
            },
            "errors": [{
                    "description": "The provided parameters are invalid.",
                    "code": 1,
                    "message": "InvalidParameters",
                    "data": {}
                }]
        }
    }
}
